<!doctype html>
<html lang="ar">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Merry Christmas ğŸ ğŸ„</title>
  <style>
    body { font-family: "Arial", sans-serif; background:#0f172a; color:#fff; margin:0; padding:0; display:flex; flex-direction:column; align-items:center; }
    header { margin-top:40px; text-align:center; }
    h1 { font-size:2.2rem; margin:0; }
    #enterBtn { margin-top:12px; padding:10px 18px; border-radius:12px; border:none; cursor:pointer; background:#10b981; color:#fff; font-weight:bold; }
    .container { width:100%; max-width:900px; margin:30px auto; display:grid; gap:16px; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); padding:0 12px; }
    .card { background: linear-gradient(135deg,#111827 0%, #0b1220 100%); border-radius:12px; padding:18px; box-shadow:0 6px 18px rgba(0,0,0,0.5); text-align:center; }
    .amount { font-size:1.6rem; margin-bottom:10px; }
    .btn { display:inline-block; padding:8px 12px; border-radius:8px; cursor:pointer; border:none; background:#ef4444; color:#fff; font-weight:600; }
    footer { margin:40px 0 80px 0; opacity:0.8; }
  </style>
</head>
<body dir="rtl">
  <header>
    <h1>Merry Christmas ğŸ ğŸ„</h1>
    <div style="margin-top:8px;">Ù‡Ø¯ÙŠØªÙŠ Ù„Ø¹ÙŠÙ„ØªÙŠ â€” Ø§Ø®ØªÙØ± Ø§Ù„Ù…Ø¨Ù„Øº ÙˆØ­ÙˆÙ‘Ù„Ù‡</div>
    <button id="enterBtn">Ø§Ø¯Ø®Ù„ Ø§Ù„Ù…ÙˆÙ‚Ø¹</button>
  </header>

  <main id="mainContent" style="display:none; width:100%;">
    <div class="container">
      <div class="card">
        <div class="amount">Ø§Ø­ÙˆÙ„Ùƒ Ù¡Ù Ù </div>
        <button class="btn" data-amount="100">Ø­ÙˆÙ‘Ù„ Ù¡Ù Ù </button>
      </div>
      <div class="card">
        <div class="amount">ØªØ­ÙˆÙ„ÙŠ Ù¡Ù Ù </div>
        <button class="btn" data-amount="100">Ø­ÙˆÙ‘Ù„ Ù¡Ù Ù </button>
      </div>
      <div class="card">
        <div class="amount">Ø§Ø­ÙˆÙ„Ùƒ Ù¢Ù Ù </div>
        <button class="btn" data-amount="200">Ø­ÙˆÙ‘Ù„ Ù¢Ù Ù </button>
      </div>
      <div class="card">
        <div class="amount">ØªØ­ÙˆÙ„ÙŠ Ù¢Ù Ù </div>
        <button class="btn" data-amount="200">Ø­ÙˆÙ‘Ù„ Ù¢Ù Ù </button>
      </div>
    </div>
  </main>

  <footer style="text-align:center;">
    <small>ÙƒÙ„ Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª Ù‡ØªÙˆØµÙ„ Ø§Ù„Ø§Ø¯Ù…Ù† Ø¹Ù„Ù‰ ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…</small>
  </footer>

<script>
document.getElementById('enterBtn').addEventListener('click', () => {
  document.getElementById('enterBtn').style.display = 'none';
  document.getElementById('mainContent').style.display = 'block';
});

// ÙƒÙ„ Ø§Ù„Ø§Ø²Ø±Ø§Ø± ØªØ¨Ø¹Øª POST Ù„Ù„Ø³ÙŠØ±ÙØ±
document.querySelectorAll('.btn').forEach(btn => {
  btn.addEventListener('click', async (e) => {
    const amount = e.currentTarget.dataset.amount;
    const name = prompt('Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ø¹Ù„Ø´Ø§Ù† Ø§Ù„Ø§Ø¯Ù…Ù† ÙŠØ¹Ø±Ù Ù…ÙŠÙ† Ø¨Ø¹Øª Ø§Ù„Ù‡Ø¯ÙŠØ©:');
    if (!name) return alert('Ù…Ø·Ù„ÙˆØ¨ Ø§Ø³Ù… Ù„Ù„ØªØ­ÙˆÙŠÙ„');
    const note = prompt('Ù…Ù„Ø§Ø­Ø¸Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):') || '';
    try {
      const res = await fetch('/transfer', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ name, amount, note })
      });
      const body = await res.json();
      if (body.ok) {
        alert('ØªÙ… Ø§Ø±Ø³Ø§Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„. Ø´ÙƒØ±Ø§Ù‹! ğŸ');
      } else {
        alert('Ø­ØµÙ„ Ø®Ø·Ø£: ' + (body.message || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'));
      }
    } catch (err) {
      alert('ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ±');
      console.error(err);
    }
  });
});
</script>
</body>
</html>
